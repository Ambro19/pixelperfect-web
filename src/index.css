/* ========================================
   GLOBAL STYLES - MOBILE-FIRST DESIGN
   ========================================
   File: src/index.css
   Author: OneTechly
   Purpose: Mobile-optimized global styles
   Updated: January 2026 - Enhanced for new pages + API Key Display
*/

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   BASE STYLES - Mobile First
   ======================================== */
html, body, #root {
  min-height: 100%;
  height: auto;
}

body {
  @apply bg-gray-50 text-gray-900;
  /* Prevent horizontal scroll on mobile */
  overflow-x: hidden;
  /* Better text rendering on mobile */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* System font stack */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
}

/* ========================================
   MOBILE TOUCH IMPROVEMENTS
   ======================================== */
/* Larger touch targets for mobile (44x44px minimum) */
button, a {
  min-height: 44px;
  min-width: 44px;
  @apply inline-flex items-center justify-center;
}

/* Remove tap highlight on mobile */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Better touch scrolling on iOS */
.scroll-touch {
  -webkit-overflow-scrolling: touch;
}

/* ========================================
   CODE BLOCKS - Mobile Scrollable
   ======================================== */
pre {
  /* Allow horizontal scroll on mobile */
  overflow-x: auto;
  /* Enable momentum scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent code blocks from breaking layout */
  max-width: 100%;
  @apply bg-gray-900 text-white rounded-lg;
}

/* Smaller code text on mobile */
pre code {
  @apply text-xs font-mono;
}

@media (min-width: 640px) {
  pre code {
    @apply text-sm;
  }
}

/* Inline code styling */
code:not(pre code) {
  @apply bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-sm font-mono;
}

/* ========================================
   RESPONSIVE TYPOGRAPHY
   ======================================== */
/* Mobile-first heading sizes */
h1 { @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold; }
h2 { @apply text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold; }
h3 { @apply text-lg sm:text-xl md:text-2xl font-semibold; }
h4 { @apply text-base sm:text-lg font-semibold; }

/* Body text responsive sizing */
p { @apply text-sm sm:text-base leading-relaxed; }

/* Link styling */
a {
  @apply text-blue-600 hover:text-blue-700 transition-colors;
}

/* ========================================
   AUTH PAGES - Mobile Optimized
   ======================================== */
.auth-page {
  @apply min-h-screen flex items-center justify-center px-4;
  background-image: linear-gradient(to bottom, #eef2ff 0%, #f8fafc 40%, #f8fafc 100%);
}

.auth-card {
  @apply w-full max-w-md bg-white rounded-2xl shadow-xl p-6 sm:p-8;
}

/* ========================================
   BUTTONS - Mobile Touch-Friendly
   ======================================== */
.btn-primary {
  @apply inline-flex items-center justify-center
         px-4 py-2.5 sm:px-5 sm:py-3
         rounded-lg font-semibold
         bg-blue-600 text-white 
         hover:bg-blue-700 
         active:bg-blue-800
         disabled:bg-gray-300 disabled:cursor-not-allowed
         transition-colors
         text-sm sm:text-base
         min-h-[44px]
         shadow-sm;
}

.btn-secondary {
  @apply inline-flex items-center justify-center
         px-4 py-2.5 sm:px-5 sm:py-3
         rounded-lg font-semibold
         border-2 border-gray-300 
         text-gray-800 
         hover:bg-gray-50
         active:bg-gray-100
         disabled:opacity-50 disabled:cursor-not-allowed
         transition-colors
         text-sm sm:text-base
         min-h-[44px];
}

.btn-ghost {
  @apply inline-flex items-center justify-center
         px-4 py-2.5
         text-gray-700 
         hover:bg-gray-100
         active:bg-gray-200
         rounded-lg
         transition-colors
         text-sm sm:text-base
         min-h-[44px];
}

/* ========================================
   NAVIGATION - Mobile Responsive
   ======================================== */
.header-nav {
  @apply flex flex-wrap items-center gap-2 sm:gap-3 min-h-[56px];
}

/* Hamburger menu styles */
.mobile-menu-button {
  @apply lg:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors;
}

/* Sticky header with blur effect */
.header-sticky {
  @apply sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200;
}

/* ========================================
   FORMS - Mobile Optimized
   ======================================== */
input, textarea, select {
  /* Prevent iOS zoom on focus */
  font-size: 16px !important;
  @apply w-full px-4 py-3 
         border border-gray-300 rounded-lg
         focus:ring-2 focus:ring-blue-600 focus:border-transparent
         transition-all;
}

@media (min-width: 640px) {
  input, textarea, select {
    font-size: 14px !important;
  }
}

/* Better form spacing on mobile */
.form-group {
  @apply mb-4 sm:mb-6;
}

label {
  @apply block text-sm sm:text-base font-medium text-gray-700 mb-2;
}

/* Input with icon */
.input-with-icon {
  @apply relative;
}

.input-icon {
  @apply absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400;
}

.input-with-icon input {
  @apply pl-10;
}

/* ========================================
   LAYOUT UTILITIES
   ======================================== */
/* Container with responsive padding */
.container-responsive {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Section spacing - mobile first */
.section-spacing {
  @apply py-8 sm:py-12 md:py-16 lg:py-20;
}

/* Card component - responsive */
.card {
  @apply bg-white rounded-xl border border-gray-200 
         p-4 sm:p-6 
         shadow-sm hover:shadow-md transition-shadow;
}

/* Gradient backgrounds */
.gradient-blue {
  background: linear-gradient(to bottom, #dbeafe 0%, #ffffff 100%);
}

.gradient-hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* ========================================
   MOBILE SIDEBAR/OVERLAY
   ======================================== */
/* Slide-in sidebar animation */
.sidebar-mobile {
  transition: transform 0.3s ease-in-out;
  @apply fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200;
}

.sidebar-open {
  transform: translateX(0);
}

.sidebar-closed {
  transform: translateX(-100%);
}

/* Overlay backdrop */
.overlay {
  @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ========================================
   TABLES - Mobile Responsive
   ======================================== */
/* Hide tables on mobile, show cards instead */
.table-responsive {
  @apply hidden sm:block overflow-x-auto;
}

.mobile-card-list {
  @apply block sm:hidden space-y-3;
}

/* Better table styling */
table {
  @apply min-w-full divide-y divide-gray-200;
}

thead {
  @apply bg-gray-50;
}

th {
  @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
}

td {
  @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
}

/* ========================================
   LOGO - Responsive Sizing
   ======================================== */
svg[data-app-logo] {
  width: 48px;
  height: 48px;
}

@media (max-width: 639px) {
  svg[data-app-logo] {
    width: 36px;
    height: 36px;
  }
}

/* ========================================
   SCROLL BEHAVIOR
   ======================================== */
html {
  scroll-behavior: smooth;
}

/* Better scrollbar on desktop */
@media (min-width: 1024px) {
  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  ::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 6px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
}

/* ========================================
   LOADING STATES
   ======================================== */
.spinner {
  @apply animate-spin rounded-full border-2 border-blue-600 border-t-transparent;
  width: 24px;
  height: 24px;
}

.spinner-large {
  @apply animate-spin rounded-full border-4 border-blue-600 border-t-transparent;
  width: 48px;
  height: 48px;
}

/* Skeleton loading */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

/* Loading overlay */
.loading-overlay {
  @apply absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50;
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes slideInUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-in-up {
  animation: slideInUp 0.3s ease-out;
}

@keyframes fadeInScale {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-fade-in-scale {
  animation: fadeInScale 0.2s ease-out;
}

/* ========================================
   BADGES & PILLS
   ======================================== */
.badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.badge-blue {
  @apply bg-blue-100 text-blue-800;
}

.badge-green {
  @apply bg-green-100 text-green-800;
}

.badge-red {
  @apply bg-red-100 text-red-800;
}

.badge-yellow {
  @apply bg-yellow-100 text-yellow-800;
}

.badge-purple {
  @apply bg-purple-100 text-purple-800;
}

/* ========================================
   ACCORDIONS & COLLAPSIBLES
   ======================================== */
.accordion-item {
  @apply border border-gray-200 rounded-lg overflow-hidden mb-2;
}

.accordion-header {
  @apply w-full px-6 py-4 flex items-center justify-between 
         bg-white hover:bg-gray-50 transition-colors cursor-pointer;
}

.accordion-content {
  @apply px-6 py-4 border-t border-gray-200 bg-gray-50;
}

/* ========================================
   API KEY DISPLAY - MOBILE-FIRST DESIGN
   ======================================== */

/* Main API Key Section Container */
.api-key-section {
  @apply card mb-6 animate-slide-in-up;
}

.api-key-section h3 {
  @apply text-lg sm:text-xl font-bold text-gray-900 mb-3 flex items-center gap-2;
}

/* API Key Description */
.api-key-description {
  @apply text-sm sm:text-base text-gray-600 mb-4 leading-relaxed;
}

/* API Key Reveal Section (shown once after generation) */
.api-key-reveal {
  @apply bg-yellow-50 border-2 border-yellow-400 rounded-xl p-4 sm:p-5 mb-4;
  animation: fadeInScale 0.3s ease-out;
}

/* Warning Alert */
.alert {
  @apply rounded-lg p-3 sm:p-4 mb-3;
}

.alert-warning {
  @apply bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800;
}

.alert strong {
  @apply font-bold block mb-1 text-sm sm:text-base;
}

/* API Key Display with Copy Button */
.api-key-display {
  @apply flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 mt-3;
}

.api-key-text {
  @apply flex-1 bg-white px-3 sm:px-4 py-3 border-2 border-gray-300 rounded-lg 
         font-mono text-xs sm:text-sm text-gray-800 
         break-all overflow-x-auto
         focus:ring-2 focus:ring-blue-500 focus:border-transparent
         transition-all;
  /* Enable horizontal scrolling on mobile */
  -webkit-overflow-scrolling: touch;
}

/* Copy Button Styling */
.btn-copy {
  @apply px-4 py-3 bg-green-600 text-white rounded-lg font-semibold
         hover:bg-green-700 active:bg-green-800
         transition-colors text-sm sm:text-base
         min-h-[44px] whitespace-nowrap
         shadow-sm;
}

.btn-copy:hover {
  @apply shadow-md;
}

/* Key Prefix Display (for existing keys) */
.key-prefix-display {
  @apply bg-gray-50 rounded-xl p-4 sm:p-5 mb-4 border border-gray-200;
}

.key-prefix-display label {
  @apply block font-semibold text-sm sm:text-base text-gray-700 mb-2;
}

.key-prefix-display code {
  @apply inline-block bg-gray-900 text-green-400 px-3 py-2 rounded-md
         font-mono text-xs sm:text-sm mr-2 
         border border-gray-700;
}

.key-hidden-text {
  @apply text-gray-500 text-xs sm:text-sm italic;
}

/* Key Metadata */
.key-metadata {
  @apply space-y-2 mb-4 bg-gray-50 rounded-lg p-4 border border-gray-200;
}

.key-metadata p {
  @apply text-sm sm:text-base text-gray-700 flex flex-col sm:flex-row sm:justify-between;
}

.key-metadata strong {
  @apply font-semibold text-gray-900 mb-1 sm:mb-0;
}

/* Danger Button (Regenerate) */
.btn-danger {
  @apply px-4 py-3 bg-red-600 text-white rounded-lg font-semibold
         hover:bg-red-700 active:bg-red-800
         transition-colors text-sm sm:text-base
         min-h-[44px] shadow-sm
         w-full sm:w-auto;
}

.btn-danger:hover {
  @apply shadow-md;
}

/* No API Key State */
.no-api-key {
  @apply text-center py-6 sm:py-8 bg-blue-50 rounded-xl border-2 border-dashed border-blue-300;
}

.no-api-key p {
  @apply text-gray-700 mb-4 text-sm sm:text-base;
}

/* Usage Example Accordion */
.usage-example {
  @apply mt-6 border border-gray-300 rounded-xl overflow-hidden 
         bg-gray-50 hover:border-blue-500 transition-colors;
}

.usage-example summary {
  @apply cursor-pointer font-semibold px-4 py-3 sm:px-5 sm:py-4 
         bg-white hover:bg-gray-50 transition-colors
         flex items-center gap-2 text-sm sm:text-base
         min-h-[44px];
}

.usage-example summary::-webkit-details-marker {
  display: none;
}

.usage-example summary::before {
  content: 'â–¶';
  @apply inline-block transition-transform mr-2;
}

.usage-example[open] summary::before {
  transform: rotate(90deg);
}

.usage-example pre {
  @apply bg-gray-900 text-gray-100 p-3 sm:p-4 
         overflow-x-auto text-xs sm:text-sm 
         m-0 border-t border-gray-700;
  /* Better scrolling on mobile */
  -webkit-overflow-scrolling: touch;
}

/* Modal Styles - Mobile Optimized */
.modal-overlay {
  @apply fixed inset-0 bg-black bg-opacity-50 
         flex items-center justify-center 
         z-50 p-4
         animate-fade-in-scale;
  backdrop-filter: blur(4px);
}

.modal {
  @apply bg-white rounded-2xl p-5 sm:p-8 
         max-w-md w-full 
         shadow-2xl
         max-h-[90vh] overflow-y-auto
         animate-slide-in-up;
}

.modal h3 {
  @apply text-xl sm:text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2;
}

.modal p {
  @apply text-sm sm:text-base text-gray-700 mb-3;
}

.modal strong {
  @apply text-red-600 font-bold;
}

.modal-actions {
  @apply flex flex-col sm:flex-row gap-3 justify-end mt-6 pt-6 border-t border-gray-200;
}

/* Error State */
.error-text {
  @apply text-red-600 font-medium text-sm sm:text-base;
}

.api-key-section.error {
  @apply border-2 border-red-200 bg-red-50;
}

/* Success State Animation */
@keyframes successPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.btn-copy.success {
  animation: successPulse 0.3s ease-in-out;
}

/* Mobile-specific optimizations for API Key Display */
@media (max-width: 639px) {
  .api-key-text {
    @apply text-xs py-2.5;
    /* Ensure text doesn't overflow on small screens */
    word-break: break-all;
  }

  .usage-example pre {
    @apply text-xs p-3;
  }

  .modal {
    @apply p-4 max-h-[95vh];
  }

  .modal h3 {
    @apply text-lg;
  }
}

/* Print optimization for API keys */
@media print {
  .api-key-reveal,
  .btn-copy,
  .btn-danger,
  .modal-overlay {
    display: none !important;
  }

  .api-key-text {
    @apply border-2 border-black;
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */
/* Safe area for notched devices (iPhone X+) */
.safe-area-padding {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Prevent text selection (for buttons, UI elements) */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Full bleed on mobile */
.mobile-full-bleed {
  @apply -mx-4 sm:mx-0;
}

/* Truncate text with ellipsis */
.truncate-2-lines {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.truncate-3-lines {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Aspect ratio utilities */
.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-square {
  aspect-ratio: 1 / 1;
}

/* Glass morphism effect */
.glass {
  @apply bg-white/80 backdrop-blur-lg border border-white/20;
}

/* ========================================
   ACCESSIBILITY
   ======================================== */
/* Focus visible for keyboard navigation */
*:focus-visible {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* Skip to main content link */
.skip-to-main {
  @apply absolute -top-full left-0 bg-blue-600 text-white px-4 py-2 
         focus:top-0 z-50 transition-all;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ========================================
   TOOLTIPS
   ======================================== */
.tooltip {
  @apply absolute z-50 px-2 py-1 text-xs text-white bg-gray-900 rounded shadow-lg;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}

.tooltip-visible {
  opacity: 1;
}

/* ========================================
   PRINT STYLES
   ======================================== */
@media print {
  /* Hide navigation and buttons when printing */
  header, footer, button, .no-print {
    display: none !important;
  }

  /* Optimize for printing */
  * {
    background: white !important;
    color: black !important;
  }

  /* Expand all collapsed sections */
  details {
    display: block !important;
  }

  /* Page breaks */
  h1, h2, h3 {
    page-break-after: avoid;
  }

  pre, blockquote {
    page-break-inside: avoid;
  }
}

/* ========================================
   DARK MODE SUPPORT (Ready for future)
   ======================================== */
@media (prefers-color-scheme: dark) {
  /* Dark mode styles can be added here when needed */
  /* Example:
  body {
    @apply bg-gray-900 text-gray-100;
  }
  .card {
    @apply bg-gray-800 border-gray-700;
  }
  */
}